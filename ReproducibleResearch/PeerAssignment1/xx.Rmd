# Reproducible Research: Peer Assessment 1


## Loading and preprocessing the data
Read the CSV file.
Convert the data frame to a data table using the [`data.table`]
Convert the "date" variable to a "date class".

```{r}
library(data.table)
dt <- read.csv(file.path(getwd(), "activity.csv"))
dt <- data.table(dt)
dt <- dt[, date := as.Date(date)]
```


## What is mean total number of steps taken per day?

Aggregate the number of steps taken each day.
Days with missing values (`NA`) will have `NA` when aggregated.

```{r aggregateDailyStepsEachDay}
dtDailySteps <- dt[, list(sumSteps = sum(steps)), date]
head(dtDailySteps)
```

Plot a histogram of the total number of steps taken each day.

```{r histogramStepsTakenEachDay}
library(ggplot2)
ggplot(dtDailySteps, aes(x=sumSteps)) +
  geom_histogram(alpha=1/2, binwidth=1000)
```

Calculate the mean and median total number of steps taken per day **before imputing**.

```{r, results='asis'}
dtDailySteps[, list(mean = mean(sumSteps, na.rm=TRUE), median = median(sumSteps, na.rm=TRUE))]
```


## What is the average daily activity pattern?
Aggregate the average number of steps taken by 5-minute interval.

```{r}
dtIntervals <- dt[, list(meanSteps = mean(steps, na.rm=TRUE)), interval]
```

- Time series plot of the 5-minute interval and the average number of steps taken across all days.
- Which 5 minute interval contains maximum # of steps?

```{r timeseriesStepsTakenEachInterval}
ggplot(dtIntervals, aes(x=interval, y=meanSteps)) +
	geom_line()
maxInt <- dtIntervals[which(dtIntervals$meanSteps==max(dtIntervals$meanSteps)),]$interval	
```


## Imputing missing values